---
layout: post
title: "kokoko"
---


# 1. IO Description
ready-valid protocol

| Signal Name          | Width | I/O | Description                                                                                                                                          | I/F Type    | Remark                                                                                                                                                                                                                                                                   |
| -------------------- | ----- | --- | ---------------------------------------------------------------------------------------------------------------------------------------------------- | ----------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| Sysclk               | 1     | I   | Decoder Clock                                                                                                                                        | clock       | single clock                                                                                                                                                                                                                                                             |
| rstn                 | 1     | I   | Asynchronous Reset for sysclk                                                                                                                        | reset       | Active Low                                                                                                                                                                                                                                                               |
| I_BCHD_DEC_MODE      | 2     | 1   | Decoding Mode: <br> 2’b0: HD mode (default) <br> 2’b01: 2bit SD mode<br> 2’b11: 3bit SD mode                                                         | SFR         |                                                                                                                                                                                                                                                                          |
| I_BCHD_CODE_RATE     | 1     | I   | Code rate: <br> 1’b0: i512_p64 <br> 1’b1: i512_p48                                                                                                   | SFR         |                                                                                                                                                                                                                                                                          |
| I_BCHD_OUT_TYPE      | 1     | I   | Output data in case of SD decode FAILURE <br> 1’b0: output HD input data <br> 1’b1: output 2SD input data <br> OUT_TYPE is valde only 2SD/3SD mode.  |             | - Output will include info only or info + parity according to I_BCHD_UC_PARITY_OUT value. <br> - Will be ignored in bypass mode.                                                                                                                                         |
| I_BCHD_BYPASS[1:0]   | 2     | I   | 2’b0x: No bypass <br> 2’b10: Bypass with corrected indication (O_BCHD_UNCORR=0) <br> 2’b11: Bypass with uncorrected indication (O_BCHD_UNCORR=1)     | SFR         | - In case of bypass mode (2’b10 / 2’b11), all output counters will set to 0x3ff and O_BCHD_ITERATION will be set to ‘0’.                                                                                                                                                 |
| I_BCHD_UC_PARITY_OUT | 1     | I   | 1’b0: Output info only in case of uncorr <br> 1’b1: Output info + parity in case of uncorr                                                           | SFR         | Indicates whether output should include parity or not in case of uncorrected case.                                                                                                                                                                                       |
| I_BCHD_LFSR_MODE     | 1     | I   | 1’b0: Internal value (default)<br>1’b1: Select lfsr initial value from I_BCHD_LFSR                                                                   | SFR         | Each decoded word will start with the same LFSR value.                                                                                                                                                                                                                   |
| I_BCHD_LFSR          | 20    | I   | [19:0] Initial values to be loaded decoder                                                                                                           | SFR         | Valid only if I_BCHD_LFSR_MODE = 1’b1                                                                                                                                                                                                                                    |
| I_BCHD_MAX_ITR       | 10    | I   | 2SD and 3SD maximal decoding time                                                                                                                    | SFR         | - Legal values TBD according to max latency<br>- Valid only in 2SD and 3SD mode.                                                                                                                                                                                         |
| I_BCHD_VALIDS        | 1     | I   | Decoder input data valid                                                                                                                             | BUS Control |                                                                                                                                                                                                                                                                          |
| I_BCHD_DATAS         | 128   | I   | Decoder input data                                                                                                                                   | BUS         | HD or SD bits                                                                                                                                                                                                                                                            |
| I_BCHD_READYM        | 1     | I   | Decoder output data ready                                                                                                                            | BUS Control |                                                                                                                                                                                                                                                                          |
| I_BCHD_MSG_INVERT    | 1     | I   | ALL-1 Masking enable                                                                                                                                 | SFR         | In case ‘1’, input data will be inverted in input stage. During output stage, data will be inverted back.                                                                                                                                                                |
| I_BCHD_LFSR_CHASE_TH | 16    | I   | Threshold for 2SD and 3SD mode only                                                                                                                  | SFR         | Bits [4i + 3: 4i] for chase TH values of confidence levels i = 0,1,2,3                                                                                                                                                                                                   |
| O_BCHD_READYS        | 1     | O   | Decoder input data ready                                                                                                                             | BUS Control | - During CW insertion, READYS will go low very 2nd cycle since decoder works in 64b/cycle and interface is 128b.<br>- READYS may negate between words and between HD/2SD/3SD data insertion.                                                                             |
| O_BCHD_VALIDM        | 1     | O   | Decoder output data valid                                                                                                                            | BUS Control | O_BCHD_VALIDM may get low for some cycles during output.                                                                                                                                                                                                                 |
| O_BCHD_DATAM         | 128   | O   | Decoder output data                                                                                                                                  | BUS         | Valid with O_BCHD_VALIDM.                                                                                                                                                                                                                                                |
| O_BCHD_DONE          | 1     | O   | Decoding done                                                                                                                                        | BUS Control |                                                                                                                                                                                                                                                                          |
| O_BCHD_UNCORR        | 1     | O   | Decoding status<br>1’b0: Success<br>1’b1: Fail                                                                                                       | STATUS      | - Valid with O_BCHD_DONE<br>- In bypass mode, UNCORR indication will be according to I_BCHD_BYPASS value.                                                                                                                                                                |
| O_BCHD_ACTIVE        | 1     | O   | Indicator whether decoder is in busy state.                                                                                                          | CONTROL     | Will keep high as long as there is a codeword in the decoder. (From first input to last output)<br>SFR attributes may update only if this signal is low.                                                                                                                 |
| O_BCHD_LFSR          | 20    | O   | [19:0] - words initial LFSR state                                                                                                                    | STATUS      | - Valid only in 2SD mode and 3SD mode.<br>- Valid with O_BCHD_DONE<br>- Initial LFSR state at chase iteration number 0 for every CW                                                                                                                                      |
| O_BCHD_ERR_CNT       | 7     | O   | - Number of error bits in *info+parity* per codeword<br>- When decode fails to decode O_BCHD_ERR_CNT is not relevant.                                | STATUS      | - To avoid counters overflow, if there are more than 127 errors values will be clipped to max value<br>- In bypass mode: 7’d127<br>- Valid with O_BCHD_DONE                                                                                                              |
| O_BCHD_STR_ERR_CNT   | 7     | O   | - Number of strong error bits per codeword *info+parity*.<br>- Counting errors with 2SD bit = 1 in both 2SD and 3SD mode.<br>- Not valid in HD mode. | STATUS      | - Valid only in 2SD and 3SD mode.<br>- To avoid counters overflow, if there are more than 127 errors values will be clipped to max value<br>- Uncorrectable case: 7’d 127<br>- In bypass mode: 7’d127<br>- Not valid in HD -> set to ‘d127.<br>- Valid with O_BCHD_DONE. |
| O_BCHD_POS_ERR_CNT   | 7     | O   | - Number of positive direction (0->1) error bits in *info+parity*.                                                                                   | STATUS      | - To avoid counters overflow, if there are more than 127 errors values will be clipped to max value<br>- Uncorrectable case: 7’d127<br>- In bypass mode: 7’d127<br>- Valid with O_BCHD_DONE.                                                                             |
| O_BCHD_ONE_CNT       | 13    | O   | - Number of 1’s in *info_parity* output CW.                                                                                                          | STATUS      | - Uncorrectable case: # of 1’s in **HD** raw data (info + parity)<br>- In bypass mode 13’d8191<br>- Valid with O_BCHD_DONE                                                                                                                                               |
| _BCHD_ITERATION      | 10    | O   | - Decode iterations number                                                                                                                           | STATUS      | - Valid only in 2SD and 3SD mode.<br>- Valid with O_BCHD_DONE<br>- In BYPASS mode, output is ‘0’.<br>- When decode fail, output is I_BCHD_MAX_ITR configuration.                                                                                                         |
# 2.  Verification Cases (HD Mode)

## Verification Scope & Assumptions

| Item        | Value                                        | Note                               |
| ----------- | -------------------------------------------- | ---------------------------------- |
| Decode Mode | HD only (`I_BCHD_DEC_MODE = 2'b00`)          | SD mode excluded                   |
| LFSR Mode   | Internal default (`I_BCHD_LFSR_MODE = 1'b0`) | External LFSR not tested           |
| Interface   | Ready-Valid Protocol                         | 128b interface, 64b/cycle internal |

### HD Mode에서 Don’t Care 신호들

- `I_BCHD_OUT_TYPE`: SD 모드 전용 (HD에서는 무시됨)
- `I_BCHD_MAX_ITR`: SD 모드 전용
- `I_BCHD_LFSR_CHASE_TH`: SD 모드 전용
- `O_BCHD_STR_ERR_CNT`: HD에서는 항상 `7'd127`
- `O_BCHD_LFSR`: SD 모드 전용
- `O_BCHD_ITERATION`: HD에서는 의미 없음

-----

## 1. Normal Cases

### 1.1 Basic Functional Verification

> **목적**: BCH 디코더의 기본 동작 및 에러 정정 기능 검증

|Case|Description                     |CODE_RATE|DEC_MODE|BYPASS |MSG_INVERT|UC_PARITY_OUT|LFSR_MODE|Error Pattern   |Expected Output       |
|:--:|--------------------------------|:-------:|:------:|:-----:|:--------:|:-----------:|:-------:|----------------|----------------------|
|N01 |Code rate i512_p64, No error    |`1'b0`   |`2'b00` |`2'b00`|`1'b0`    |`1'b0`       |`1'b0`   |None            |UNCORR=0, input=output|
|N02 |Code rate i512_p48, No error    |`1'b1`   |`2'b00` |`2'b00`|`1'b0`    |`1'b0`       |`1'b0`   |None            |UNCORR=0, input=output|
|N03 |i512_p64, 1-bit error           |`1'b0`   |`2'b00` |`2'b00`|`1'b0`    |`1'b0`       |`1'b0`   |1-bit random    |UNCORR=0, ERR_CNT=1   |
|N04 |i512_p48, 1-bit error           |`1'b1`   |`2'b00` |`2'b00`|`1'b0`    |`1'b0`       |`1'b0`   |1-bit random    |UNCORR=0, ERR_CNT=1   |
|N05 |i512_p64, Max correctable errors|`1'b0`   |`2'b00` |`2'b00`|`1'b0`    |`1'b0`       |`1'b0`   |Max correctable |UNCORR=0, ERR_CNT=max |
|N06 |i512_p48, Max correctable errors|`1'b1`   |`2'b00` |`2'b00`|`1'b0`    |`1'b0`       |`1'b0`   |Max correctable |UNCORR=0, ERR_CNT=max |
|N07 |Error at beginning (bit 0~7)    |`1'b0`   |`2'b00` |`2'b00`|`1'b0`    |`1'b0`       |`1'b0`   |First 8 bits    |UNCORR=0, corrected   |
|N08 |Error at middle                 |`1'b0`   |`2'b00` |`2'b00`|`1'b0`    |`1'b0`       |`1'b0`   |Middle bits     |UNCORR=0, corrected   |
|N09 |Error at end (last 8 bits)      |`1'b0`   |`2'b00` |`2'b00`|`1'b0`    |`1'b0`       |`1'b0`   |Last 8 bits     |UNCORR=0, corrected   |
|N10 |Burst error pattern             |`1'b0`   |`2'b00` |`2'b00`|`1'b0`    |`1'b0`       |`1'b0`   |Consecutive bits|UNCORR=0, corrected   |
|N11 |Scattered error pattern         |`1'b0`   |`2'b00` |`2'b00`|`1'b0`    |`1'b0`       |`1'b0`   |Distributed bits|UNCORR=0, corrected   |

### 1.2 Counter Verification

> **목적**: 출력 상태 카운터들의 정확성 검증

|Case|Description                     |CODE_RATE|DEC_MODE|BYPASS |MSG_INVERT|UC_PARITY_OUT|LFSR_MODE|Error Pattern |Expected Counter      |
|:--:|--------------------------------|:-------:|:------:|:-----:|:--------:|:-----------:|:-------:|--------------|----------------------|
|N12 |ERR_CNT accuracy (1 error)      |`1'b0`   |`2'b00` |`2'b00`|`1'b0`    |`1'b0`       |`1'b0`   |1-bit         |ERR_CNT=1             |
|N13 |ERR_CNT accuracy (5 errors)     |`1'b0`   |`2'b00` |`2'b00`|`1'b0`    |`1'b0`       |`1'b0`   |5-bit         |ERR_CNT=5             |
|N14 |ERR_CNT accuracy (10 errors)    |`1'b0`   |`2'b00` |`2'b00`|`1'b0`    |`1'b0`       |`1'b0`   |10-bit        |ERR_CNT=10            |
|N15 |POS_ERR_CNT (0→1 errors only)   |`1'b0`   |`2'b00` |`2'b00`|`1'b0`    |`1'b0`       |`1'b0`   |0→1 flips     |POS_ERR_CNT=flip count|
|N16 |POS_ERR_CNT (1→0 errors only)   |`1'b0`   |`2'b00` |`2'b00`|`1'b0`    |`1'b0`       |`1'b0`   |1→0 flips     |POS_ERR_CNT=0         |
|N17 |POS_ERR_CNT (mixed errors)      |`1'b0`   |`2'b00` |`2'b00`|`1'b0`    |`1'b0`       |`1'b0`   |Mixed 0→1, 1→0|POS_ERR_CNT=0→1 count |
|N18 |ONE_CNT verification (all-0 out)|`1'b0`   |`2'b00` |`2'b00`|`1'b0`    |`1'b0`       |`1'b0`   |All-0 input   |ONE_CNT=0             |
|N19 |ONE_CNT verification (all-1 out)|`1'b0`   |`2'b00` |`2'b00`|`1'b0`    |`1'b0`       |`1'b0`   |All-1 input   |ONE_CNT=576/560       |
|N20 |ONE_CNT verification (50% ones) |`1'b0`   |`2'b00` |`2'b00`|`1'b0`    |`1'b0`       |`1'b0`   |50% ones      |ONE_CNT≈288/280       |

### 1.3 Ready-Valid Protocol Verification

> **목적**: 인터페이스 프로토콜 준수 확인

|Case|Description                    |CODE_RATE|DEC_MODE|BYPASS |MSG_INVERT|UC_PARITY_OUT|LFSR_MODE|Stimulus Pattern  |Expected Behavior              |
|:--:|-------------------------------|:-------:|:------:|:-----:|:--------:|:-----------:|:-------:|------------------|-------------------------------|
|N21 |Input handshake basic          |`1'b0`   |`2'b00` |`2'b00`|`1'b0`    |`1'b0`       |`1'b0`   |Normal valid/ready|Data transferred on valid&ready|
|N22 |Output handshake basic         |`1'b0`   |`2'b00` |`2'b00`|`1'b0`    |`1'b0`       |`1'b0`   |Normal valid/ready|Data transferred on valid&ready|
|N23 |Back-pressure (READYM=0)       |`1'b0`   |`2'b00` |`2'b00`|`1'b0`    |`1'b0`       |`1'b0`   |Hold READYM low   |Output paused, no data loss    |
|N24 |READYS negation every 2nd cycle|`1'b0`   |`2'b00` |`2'b00`|`1'b0`    |`1'b0`       |`1'b0`   |Continuous input  |READYS toggles per spec        |
|N25 |Intermittent VALIDS            |`1'b0`   |`2'b00` |`2'b00`|`1'b0`    |`1'b0`       |`1'b0`   |Random valid gaps |Correct data accumulation      |
|N26 |VALIDM low during output       |`1'b0`   |`2'b00` |`2'b00`|`1'b0`    |`1'b0`       |`1'b0`   |Monitor output    |VALIDM may go low mid-output   |

### 1.4 MSG_INVERT Verification

> **목적**: ALL-1 Masking 기능 검증

|Case|Description                  |CODE_RATE|DEC_MODE|BYPASS |MSG_INVERT|UC_PARITY_OUT|LFSR_MODE|Input Data |Expected Output            |
|:--:|-----------------------------|:-------:|:------:|:-----:|:--------:|:-----------:|:-------:|-----------|---------------------------|
|N27 |MSG_INVERT=0 baseline        |`1'b0`   |`2'b00` |`2'b00`|`1'b0`    |`1'b0`       |`1'b0`   |Random     |Decoded output             |
|N28 |MSG_INVERT=1 basic           |`1'b0`   |`2'b00` |`2'b00`|`1'b1`    |`1'b0`       |`1'b0`   |Random     |Same as N27 (inverted back)|
|N29 |MSG_INVERT=0 vs 1 equivalence|`1'b0`   |`2'b00` |`2'b00`|Both      |`1'b0`       |`1'b0`   |Same input |Identical output           |
|N30 |MSG_INVERT=1 with errors     |`1'b0`   |`2'b00` |`2'b00`|`1'b1`    |`1'b0`       |`1'b0`   |With errors|Correct correction         |
|N31 |MSG_INVERT=1, code rate p48  |`1'b1`   |`2'b00` |`2'b00`|`1'b1`    |`1'b0`       |`1'b0`   |Random     |Correct decode             |

### 1.5 Continuous Processing Verification

> **목적**: 연속 코드워드 처리 및 파이프라인 동작 검증

|Case|Description                  |CODE_RATE           |DEC_MODE|BYPASS |MSG_INVERT|UC_PARITY_OUT|LFSR_MODE|CW Count|Expected Behavior            |
|:--:|-----------------------------|:------------------:|:------:|:-----:|:--------:|:-----------:|:-------:|:------:|-----------------------------|
|N32 |Multiple CWs (3 consecutive) |`1'b0`              |`2'b00` |`2'b00`|`1'b0`    |`1'b0`       |`1'b0`   |3       |Independent decode per CW    |
|N33 |Multiple CWs (10 consecutive)|`1'b0`              |`2'b00` |`2'b00`|`1'b0`    |`1'b0`       |`1'b0`   |10      |No inter-CW interference     |
|N34 |READYS negate between words  |`1'b0`              |`2'b00` |`2'b00`|`1'b0`    |`1'b0`       |`1'b0`   |3       |READYS may negate at boundary|
|N35 |ACTIVE signal behavior       |`1'b0`              |`2'b00` |`2'b00`|`1'b0`    |`1'b0`       |`1'b0`   |3       |High from 1st in to last out |
|N36 |Back-to-back (no gap)        |`1'b0`              |`2'b00` |`2'b00`|`1'b0`    |`1'b0`       |`1'b0`   |5       |Max throughput achieved      |
|N37 |Mixed code rates consecutive |`1'b0`→`1'b1`→`1'b0`|`2'b00` |`2'b00`|`1'b0`    |`1'b0`       |`1'b0`   |3       |Each CW uses correct rate    |

### 1.6 Output Status Signal Verification

> **목적**: DONE 및 상태 신호 타이밍 검증

|Case|Description                 |CODE_RATE|DEC_MODE|BYPASS |MSG_INVERT|UC_PARITY_OUT|LFSR_MODE|Check Point |Expected Behavior         |
|:--:|----------------------------|:-------:|:------:|:-----:|:--------:|:-----------:|:-------:|------------|--------------------------|
|N38 |DONE timing with last data  |`1'b0`   |`2'b00` |`2'b00`|`1'b0`    |`1'b0`       |`1'b0`   |DONE edge   |Coincides with last output|
|N39 |UNCORR=0 on success         |`1'b0`   |`2'b00` |`2'b00`|`1'b0`    |`1'b0`       |`1'b0`   |UNCORR      |0 when correctable        |
|N40 |All counters valid with DONE|`1'b0`   |`2'b00` |`2'b00`|`1'b0`    |`1'b0`       |`1'b0`   |All counters|Valid at DONE assertion   |
|N41 |Independent DONE per CW     |`1'b0`   |`2'b00` |`2'b00`|`1'b0`    |`1'b0`       |`1'b0`   |Multiple CWs|Separate DONE per CW      |

-----

## 2. Corner Cases

### 2.1 Bypass Mode Verification

> **목적**: Bypass 모드의 올바른 동작 검증

|Case|Description                      |CODE_RATE      |DEC_MODE|BYPASS |MSG_INVERT|UC_PARITY_OUT|LFSR_MODE|Input      |Expected Output                                            |
|:--:|---------------------------------|:-------------:|:------:|:-----:|:--------:|:-----------:|:-------:|-----------|-----------------------------------------------------------|
|C01 |Bypass corrected                 |`1'b0`         |`2'b00` |`2'b10`|`1'b0`    |`1'b0`       |`1'b0`   |Random     |Output=Input, UNCORR=0                                     |
|C02 |Bypass uncorrected               |`1'b0`         |`2'b00` |`2'b11`|`1'b0`    |`1'b0`       |`1'b0`   |Random     |Output=Input, UNCORR=1                                     |
|C03 |Bypass counter values (corrected)|`1'b0`         |`2'b00` |`2'b10`|`1'b0`    |`1'b0`       |`1'b0`   |Any        |ERR_CNT=127, STR_ERR=127, POS_ERR=127, ONE_CNT=8191, ITER=0|
|C04 |Bypass counter values (uncorr)   |`1'b0`         |`2'b00` |`2'b11`|`1'b0`    |`1'b0`       |`1'b0`   |Any        |Same as C03                                                |
|C05 |Bypass→Normal transition         |`2'b10`→`2'b00`|`2'b00` |Trans  |`1'b0`    |`1'b0`       |`1'b0`   |2 CWs      |Clean transition                                           |
|C06 |Normal→Bypass transition         |`2'b00`→`2'b11`|`2'b00` |Trans  |`1'b0`    |`1'b0`       |`1'b0`   |2 CWs      |Clean transition                                           |
|C07 |Bypass ready-valid compliance    |`1'b0`         |`2'b00` |`2'b10`|`1'b0`    |`1'b0`       |`1'b0`   |Normal flow|Protocol maintained                                        |
|C08 |Bypass with MSG_INVERT=1         |`1'b0`         |`2'b00` |`2'b10`|`1'b1`    |`1'b0`       |`1'b0`   |Random     |Check invert behavior                                      |

### 2.2 Uncorrectable Case Verification

> **목적**: 정정 불가능 상황의 올바른 처리 검증

|Case|Description                    |CODE_RATE|DEC_MODE|BYPASS |MSG_INVERT|UC_PARITY_OUT|LFSR_MODE|Error Count|Expected Output          |
|:--:|-------------------------------|:-------:|:------:|:-----:|:--------:|:-----------:|:-------:|:---------:|-------------------------|
|C09 |Exceed correction capability   |`1'b0`   |`2'b00` |`2'b00`|`1'b0`    |`1'b0`       |`1'b0`   |Max+1      |UNCORR=1                 |
|C10 |Far exceed capability (20+ err)|`1'b0`   |`2'b00` |`2'b00`|`1'b0`    |`1'b0`       |`1'b0`   |20+        |UNCORR=1                 |
|C11 |Uncorr counter values          |`1'b0`   |`2'b00` |`2'b00`|`1'b0`    |`1'b0`       |`1'b0`   |Exceed     |ERR=127, STR=127, POS=127|
|C12 |Uncorr ONE_CNT = HD raw 1’s    |`1'b0`   |`2'b00` |`2'b00`|`1'b0`    |`1'b0`       |`1'b0`   |Exceed     |ONE_CNT from input       |
|C13 |UC_PARITY_OUT=0 (info only)    |`1'b0`   |`2'b00` |`2'b00`|`1'b0`    |`1'b0`       |`1'b0`   |Exceed     |Output size = info only  |
|C14 |UC_PARITY_OUT=1 (info+parity)  |`1'b0`   |`2'b00` |`2'b00`|`1'b0`    |`1'b1`       |`1'b0`   |Exceed     |Output size = info+parity|
|C15 |Uncorr output = HD input data  |`1'b0`   |`2'b00` |`2'b00`|`1'b0`    |`1'b0`       |`1'b0`   |Exceed     |Output matches input     |
|C16 |Boundary: max correctable      |`1'b0`   |`2'b00` |`2'b00`|`1'b0`    |`1'b0`       |`1'b0`   |Max exactly|UNCORR=0                 |
|C17 |Boundary: max+1                |`1'b0`   |`2'b00` |`2'b00`|`1'b0`    |`1'b0`       |`1'b0`   |Max+1      |UNCORR=1                 |
|C18 |Uncorr with MSG_INVERT=1       |`1'b0`   |`2'b00` |`2'b00`|`1'b1`    |`1'b0`       |`1'b0`   |Exceed     |Proper invert handling   |

### 2.3 Counter Overflow/Clipping Verification

> **목적**: 카운터 오버플로우 방지 및 클리핑 동작 검증

|Case|Description              |CODE_RATE|DEC_MODE|BYPASS |MSG_INVERT|UC_PARITY_OUT|LFSR_MODE|Condition        |Expected Counter     |
|:--:|-------------------------|:-------:|:------:|:-----:|:--------:|:-----------:|:-------:|-----------------|---------------------|
|C19 |ERR_CNT clip at 127      |`1'b0`   |`2'b00` |`2'b00`|`1'b0`    |`1'b0`       |`1'b0`   |127+ errors      |ERR_CNT=127 (clipped)|
|C20 |POS_ERR_CNT clip at 127  |`1'b0`   |`2'b00` |`2'b00`|`1'b0`    |`1'b0`       |`1'b0`   |127+ 0→1         |POS_ERR_CNT=127      |
|C21 |ONE_CNT max (8191)       |`1'b0`   |`2'b00` |`2'b00`|`1'b0`    |`1'b0`       |`1'b0`   |All-1 data       |ONE_CNT max or actual|
|C22 |Clip transition (126→127)|`1'b0`   |`2'b00` |`2'b00`|`1'b0`    |`1'b0`       |`1'b0`   |126 vs 127 errors|Exact clip point     |

### 2.4 SFR Change Timing Verification

> **목적**: SFR 업데이트 타이밍 및 ACTIVE 신호 연동 검증

|Case|Description             |CODE_RATE|DEC_MODE|BYPASS |MSG_INVERT|UC_PARITY_OUT|LFSR_MODE|Timing     |Expected Behavior           |
|:--:|------------------------|:-------:|:------:|:-----:|:--------:|:-----------:|:-------:|-----------|----------------------------|
|C23 |SFR update when ACTIVE=0|Change   |`2'b00` |`2'b00`|`1'b0`    |`1'b0`       |`1'b0`   |ACTIVE=0   |New setting applied         |
|C24 |SFR update when ACTIVE=1|Change   |`2'b00` |`2'b00`|`1'b0`    |`1'b0`       |`1'b0`   |ACTIVE=1   |Change ignored              |
|C25 |SFR mid-decode attempt  |Change   |`2'b00` |`2'b00`|`1'b0`    |`1'b0`       |`1'b0`   |Mid-CW     |Current CW uses old setting |
|C26 |SFR change between CWs  |Change   |`2'b00` |`2'b00`|`1'b0`    |`1'b0`       |`1'b0`   |Between CWs|Each CW uses correct setting|
|C27 |Multiple SFR changes    |Multiple |`2'b00` |Various|Various   |Various      |`1'b0`   |Per-CW     |Correct per-CW settings     |

### 2.5 Ready-Valid Protocol Edge Cases

> **목적**: 극단적 프로토콜 상황 검증

|Case|Description                 |CODE_RATE|DEC_MODE|BYPASS |MSG_INVERT|UC_PARITY_OUT|LFSR_MODE|Stimulus    |Expected Behavior       |
|:--:|----------------------------|:-------:|:------:|:-----:|:--------:|:-----------:|:-------:|------------|------------------------|
|C28 |Highly irregular VALIDS     |`1'b0`   |`2'b00` |`2'b00`|`1'b0`    |`1'b0`       |`1'b0`   |Random gaps |No data corruption      |
|C29 |Long READYM stall (100+ cyc)|`1'b0`   |`2'b00` |`2'b00`|`1'b0`    |`1'b0`       |`1'b0`   |100+ cyc low|Buffer maintained       |
|C30 |Simultaneous in/out stall   |`1'b0`   |`2'b00` |`2'b00`|`1'b0`    |`1'b0`       |`1'b0`   |Both stalled|No deadlock             |
|C31 |Single-cycle valid pulse    |`1'b0`   |`2'b00` |`2'b00`|`1'b0`    |`1'b0`       |`1'b0`   |1-cyc valid |Correctly sampled       |
|C32 |Maximum throughput          |`1'b0`   |`2'b00` |`2'b00`|`1'b0`    |`1'b0`       |`1'b0`   |No gaps     |Peak throughput achieved|

### 2.6 Data Pattern Corner Cases

> **목적**: 극단적 데이터 패턴 처리 검증

|Case|Description                |CODE_RATE|DEC_MODE|BYPASS |MSG_INVERT|UC_PARITY_OUT|LFSR_MODE|Data Pattern       |Expected Behavior|
|:--:|---------------------------|:-------:|:------:|:-----:|:--------:|:-----------:|:-------:|-------------------|-----------------|
|C33 |All-0 input (128’h0)       |`1'b0`   |`2'b00` |`2'b00`|`1'b0`    |`1'b0`       |`1'b0`   |All zeros          |Proper decode    |
|C34 |All-1 input (128’hFFFF…)   |`1'b0`   |`2'b00` |`2'b00`|`1'b0`    |`1'b0`       |`1'b0`   |All ones           |Proper decode    |
|C35 |Alternating 0x5555…        |`1'b0`   |`2'b00` |`2'b00`|`1'b0`    |`1'b0`       |`1'b0`   |01010101…          |Proper decode    |
|C36 |Alternating 0xAAAA…        |`1'b0`   |`2'b00` |`2'b00`|`1'b0`    |`1'b0`       |`1'b0`   |10101010…          |Proper decode    |
|C37 |Error at bit 0             |`1'b0`   |`2'b00` |`2'b00`|`1'b0`    |`1'b0`       |`1'b0`   |LSB error          |Corrected        |
|C38 |Error at last bit (575/559)|`1'b0`   |`2'b00` |`2'b00`|`1'b0`    |`1'b0`       |`1'b0`   |MSB error          |Corrected        |
|C39 |Error at bit 0 (p48)       |`1'b1`   |`2'b00` |`2'b00`|`1'b0`    |`1'b0`       |`1'b0`   |LSB error          |Corrected        |
|C40 |Error at last bit (p48)    |`1'b1`   |`2'b00` |`2'b00`|`1'b0`    |`1'b0`       |`1'b0`   |MSB error          |Corrected        |
|C41 |Random data (seed 1)       |`1'b0`   |`2'b00` |`2'b00`|`1'b0`    |`1'b0`       |`1'b0`   |PRNG seed 1        |Proper decode    |
|C42 |Random data (seed 2)       |`1'b0`   |`2'b00` |`2'b00`|`1'b0`    |`1'b0`       |`1'b0`   |PRNG seed 2        |Proper decode    |
|C43 |Max errors at boundaries   |`1'b0`   |`2'b00` |`2'b00`|`1'b0`    |`1'b0`       |`1'b0`   |Errors at start/end|Corrected        |

### 2.7 Code Rate Transition Verification

> **목적**: 코드 레이트 전환 동작 검증

|Case|Description              |CODE_RATE    |DEC_MODE|BYPASS |MSG_INVERT|UC_PARITY_OUT|LFSR_MODE|Transition    |Expected Behavior|
|:--:|-------------------------|:-----------:|:------:|:-----:|:--------:|:-----------:|:-------:|--------------|-----------------|
|C44 |p64→p48 first CW         |`1'b0`→`1'b1`|`2'b00` |`2'b00`|`1'b0`    |`1'b0`       |`1'b0`   |After ACTIVE=0|Immediate effect |
|C45 |p48→p64 first CW         |`1'b1`→`1'b0`|`2'b00` |`2'b00`|`1'b0`    |`1'b0`       |`1'b0`   |After ACTIVE=0|Immediate effect |
|C46 |Frequent rate changes    |Alternate    |`2'b00` |`2'b00`|`1'b0`    |`1'b0`       |`1'b0`   |Every CW      |Correct per-CW   |
|C47 |p64 correction capability|`1'b0`       |`2'b00` |`2'b00`|`1'b0`    |`1'b0`       |`1'b0`   |Max errors    |Check capability |
|C48 |p48 correction capability|`1'b1`       |`2'b00` |`2'b00`|`1'b0`    |`1'b0`       |`1'b0`   |Max errors    |Check capability |

### 2.8 Timing Corner Cases

> **목적**: 타이밍 극한 상황 검증

|Case|Description          |CODE_RATE|DEC_MODE|BYPASS |MSG_INVERT|UC_PARITY_OUT|LFSR_MODE|Timing        |Expected Behavior    |
|:--:|---------------------|:-------:|:------:|:-----:|:--------:|:-----------:|:-------:|--------------|---------------------|
|C49 |Zero inter-word gap  |`1'b0`   |`2'b00` |`2'b00`|`1'b0`    |`1'b0`       |`1'b0`   |0 cycles      |Continuous processing|
|C50 |Worst-case latency   |`1'b0`   |`2'b00` |`2'b00`|`1'b0`    |`1'b0`       |`1'b0`   |Complex error |Measure max latency  |
|C51 |Post-reset first CW  |`1'b0`   |`2'b00` |`2'b00`|`1'b0`    |`1'b0`       |`1'b0`   |After rstn    |Clean startup        |
|C52 |Long idle then resume|`1'b0`   |`2'b00` |`2'b00`|`1'b0`    |`1'b0`       |`1'b0`   |1000+ cyc idle|Normal resume        |

### 2.9 Combined Extreme Settings

> **목적**: 복합 설정 조합 검증

|Case|Description                    |CODE_RATE|DEC_MODE|BYPASS |MSG_INVERT|UC_PARITY_OUT|LFSR_MODE|Combination        |Expected Behavior              |
|:--:|-------------------------------|:-------:|:------:|:-----:|:--------:|:-----------:|:-------:|-------------------|-------------------------------|
|C53 |MSG_INVERT + Bypass corr       |`1'b0`   |`2'b00` |`2'b10`|`1'b1`    |`1'b0`       |`1'b0`   |Combined           |Invert applied in bypass       |
|C54 |MSG_INVERT + Uncorr + info only|`1'b0`   |`2'b00` |`2'b00`|`1'b1`    |`1'b0`       |`1'b0`   |Complex            |All features interact correctly|
|C55 |All-1 + MSG_INVERT + Max err   |`1'b0`   |`2'b00` |`2'b00`|`1'b1`    |`1'b0`       |`1'b0`   |Extreme            |Stable operation               |
|C56 |p48 + Max err + MSG_INVERT     |`1'b1`   |`2'b00` |`2'b00`|`1'b1`    |`1'b0`       |`1'b0`   |Small parity stress|Proper handling                |
|C57 |Alternating all settings       |Various  |`2'b00` |Various|Various   |Various      |`1'b0`   |Dynamic            |Clean transitions              |

### 2.10 Reset Verification

> **목적**: 리셋 동작 및 초기화 검증

|Case|Description              |CODE_RATE|DEC_MODE|BYPASS |MSG_INVERT|UC_PARITY_OUT|LFSR_MODE|Reset Timing   |Expected Behavior     |
|:--:|-------------------------|:-------:|:------:|:-----:|:--------:|:-----------:|:-------:|---------------|----------------------|
|C58 |Async reset basic        |`1'b0`   |`2'b00` |`2'b00`|`1'b0`    |`1'b0`       |`1'b0`   |rstn=0         |All states cleared    |
|C59 |Reset mid-decode         |`1'b0`   |`2'b00` |`2'b00`|`1'b0`    |`1'b0`       |`1'b0`   |During CW      |Clean abort           |
|C60 |Post-reset signal check  |`1'b0`   |`2'b00` |`2'b00`|`1'b0`    |`1'b0`       |`1'b0`   |After rstn rise|ACTIVE=0, VALIDM=0 etc|
|C61 |Reset during output phase|`1'b0`   |`2'b00` |`2'b00`|`1'b0`    |`1'b0`       |`1'b0`   |During output  |No partial output     |

-----

## 3. Quick Copy-Paste Reference Tables

### 3.1 SFR Default Settings (Copy for Normal Cases)

```
I_BCHD_DEC_MODE      = 2'b00;   // HD mode
I_BCHD_CODE_RATE     = 1'b0;    // i512_p64 (or 1'b1 for i512_p48)
I_BCHD_BYPASS        = 2'b00;   // No bypass
I_BCHD_MSG_INVERT    = 1'b0;    // No inversion
I_BCHD_UC_PARITY_OUT = 1'b0;    // Info only on uncorr
I_BCHD_LFSR_MODE     = 1'b0;    // Internal LFSR
I_BCHD_LFSR          = 20'h0;   // Don't care (LFSR_MODE=0)
I_BCHD_OUT_TYPE      = 1'b0;    // Don't care (HD mode)
I_BCHD_MAX_ITR       = 10'h0;   // Don't care (HD mode)
I_BCHD_LFSR_CHASE_TH = 16'h0;   // Don't care (HD mode)
```

### 3.2 SFR Bypass Mode Settings

```
// Bypass with corrected indication
I_BCHD_DEC_MODE      = 2'b00;
I_BCHD_CODE_RATE     = 1'b0;    // Either rate
I_BCHD_BYPASS        = 2'b10;   // Bypass corrected
I_BCHD_MSG_INVERT    = 1'b0;
I_BCHD_UC_PARITY_OUT = 1'b0;
I_BCHD_LFSR_MODE     = 1'b0;

// Bypass with uncorrected indication
I_BCHD_BYPASS        = 2'b11;   // Bypass uncorrected
```

### 3.3 Expected Counter Values Reference

|Condition      |ERR_CNT|STR_ERR_CNT|POS_ERR_CNT|ONE_CNT   |ITERATION|
|---------------|:-----:|:---------:|:---------:|:--------:|:-------:|
|Normal decode  |Actual |7’d127 (HD)|Actual     |Actual    |N/A (HD) |
|Uncorrectable  |7’d127 |7’d127     |7’d127     |HD raw 1’s|N/A      |
|Bypass mode    |7’d127 |7’d127     |7’d127     |13’d8191  |10’d0    |
|Clipping (127+)|7’d127 |7’d127     |7’d127     |-         |-        |

-----

## 4. Verification Priority

### High Priority (Must Have)

- [ ] N01-N11: Basic functional verification
- [ ] N21-N26: Ready-Valid protocol basics
- [ ] C09-C18: Uncorrectable cases
- [ ] C23-C27: SFR timing
- [ ] C58-C61: Reset verification

### Medium Priority (Should Have)

- [ ] N12-N20: Counter verification
- [ ] N27-N31: MSG_INVERT
- [ ] N32-N37: Continuous processing
- [ ] C01-C08: Bypass mode
- [ ] C33-C43: Data patterns

### Low Priority (Nice to Have)

- [ ] C28-C32: Protocol edge cases
- [ ] C49-C52: Timing corner cases
- [ ] C53-C57: Combined extreme settings

-----

## 5. Test Bench Checklist

- [ ] BCH encoder (golden reference)
- [ ] Error injector (random, burst, boundary)
- [ ] Protocol checker (ready-valid compliance)
- [ ] Coverage collector
- [ ] Self-checking scoreboard
- [ ] Counter verification logic
- [ ] Timing measurement utilities

-----

## Revision History

| Version | Date       | Author | Description                        |
| ------- | ---------- | ------ | ---------------------------------- |
| 1.0     | 2024-XX-XX | -      | Initial HD mode verification cases |
